(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[672],{2017:function(e,t,n){Promise.resolve().then(n.bind(n,9962)),Promise.resolve().then(n.bind(n,5837))},9962:function(e,t,n){"use strict";n.r(t);var c=n(7437),a=n(1177),r=n(5234),o=n(2265),i=n(311),l=n(2376);t.default=()=>{let[e,t]=(0,o.useState)({name:"",title:"",content:""}),n=e=>{let{name:n,value:c}=e.target;t(e=>({...e,[n]:c}))};async function s(){try{let t=await fetch("".concat(a.T,"/review"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});t.ok&&window.location.reload()}catch(e){console.error(e)}}let[u,f]=(0,o.useState)(1),{data:x}=(0,l.Eq)(),{data:d,refetch:h}=(0,l.h4)(u);return(0,o.useEffect)(()=>{h()},[u]),(0,c.jsxs)("section",{className:"w-full py-12 flex flex-col gap-6 max-w-4xl",children:[(0,c.jsx)("header",{className:"px-4",children:(0,c.jsx)("h1",{className:"text-white text-2xl font-bold",children:"이용후기"})}),(0,c.jsxs)("main",{className:"w-full bg-card-background py-6 px-4 flex flex-col gap-4",children:[(0,c.jsxs)("div",{className:"flex flex-col gap-4 ",children:[(0,c.jsx)("input",{name:"name",onChange:n,className:"px-2 py-2",placeholder:"별명을 입력해 주세요."}),(0,c.jsx)("input",{name:"title",onChange:n,className:"px-2 py-2",placeholder:"제목을 입력해 주세요."}),(0,c.jsx)("textarea",{name:"content",onChange:e=>{let{name:n,value:c}=e.target;t(e=>({...e,[n]:c}))},placeholder:"여러분의 소중한 후기를 입력해주세요.",className:"px-2 py-3"})]}),(0,c.jsx)("div",{className:"flex flex-row justify-end",children:(0,c.jsx)("button",{onClick:s,className:"px-4 py-2 bg-primary rounded-lg text-white",children:"후기 등록"})}),(0,c.jsx)("ul",{className:"flex flex-col gap-4",children:null==d?void 0:d.map(e=>(0,c.jsxs)("li",{className:"flex flex-row text-white gap-4 px-4 py-2 bg-card-container rounded-lg items-center justify-between",children:[(0,c.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,c.jsx)("p",{className:"text-xs text-teal-500",children:e.review_name}),(0,c.jsx)("p",{className:"font-bold text-lg",children:e.review_title}),(0,c.jsx)("p",{className:"text-sm",children:e.review_content})]}),(0,c.jsx)("p",{className:"text-sm font-bold text-gray-400",children:(0,i.U)(e.reg_date)})]},e.review_id))}),(0,c.jsx)("div",{className:"w-full flex flex-row items-center justify-center",children:(0,c.jsx)(r.Z,{color:"primary",onChange:(e,t)=>f(t),count:void 0!==x?Math.ceil(x/5):1,sx:{ul:{"& .MuiPaginationItem-root":{color:"#fff"}}}})})]})]})}},5837:function(e,t,n){"use strict";n.r(t),n.d(t,{AnimationWrapper:function(){return r}});var c=n(7437),a=n(7870);function r(e){let{children:t}=e;return(0,c.jsx)(a.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t})}},1177:function(e,t,n){"use strict";n.d(t,{T:function(){return c}});let c="/api"},311:function(e,t,n){"use strict";function c(e){let t=new Date(e),n=t.getFullYear(),c=t.getMonth()+1,a=t.getDate();return"".concat(n,"년 ").concat(c,"월 ").concat(a,"일")}n.d(t,{U:function(){return c}})},2376:function(e,t,n){"use strict";n.d(t,{Eq:function(){return u},L4:function(){return h},LZ:function(){return o},QM:function(){return l},ZO:function(){return x},h4:function(){return p}});var c=n(1177),a=n(5771);async function r(e){try{let t=await fetch("".concat(c.T,"/notice?page=").concat(e)),n=await t.json();return n}catch(e){console.error(e)}}let o=e=>(0,a.a)({queryKey:["notice",e],queryFn:()=>r(e)});async function i(){try{let e=await fetch("".concat(c.T,"/notice/count")),t=await e.json();return t}catch(e){console.error(e)}}function l(){return(0,a.a)({queryKey:["noticeCount"],queryFn:i})}let s=async()=>{try{let e=await fetch("".concat(c.T,"/review/count")),t=await e.json();return t}catch(e){console.error(e)}},u=()=>(0,a.a)({queryKey:["reviewCount"],queryFn:()=>s()}),f=async()=>{try{let e=await fetch("".concat(c.T,"/setting")),t=await e.json();return t}catch(e){console.error(e)}},x=()=>(0,a.a)({queryKey:["setting"],queryFn:f}),d=async()=>{try{let e=await fetch("".concat(c.T,"/notice/picked")),t=await e.json();return t}catch(e){console.error(e)}},h=()=>(0,a.a)({queryKey:["pickedNotice"],queryFn:d}),y=async e=>{try{let t=await fetch("".concat(c.T,"/review?page=").concat(e)),n=await t.json();return n}catch(e){console.error(e)}},p=e=>(0,a.a)({queryKey:["review",e],queryFn:()=>y(e)})}},function(e){e.O(0,[622,870,492,971,472,744],function(){return e(e.s=2017)}),_N_E=e.O()}]);